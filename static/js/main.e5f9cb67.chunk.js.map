{"version":3,"sources":["redux/messages-reducer.js","components/Users/Users.module.css","assets/images/i.webp","assets/images/Spin-1s-200px.svg","components/common/Preloader/Preloader.module.css","components/Login/Login.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Sidebar/Sidebar.module.css","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Sidebar/Sidebar.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reucer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","serviceWorker.js","index.js","components/common/FormsControls/FormsControls.js","components/common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormsControls.module.css","redux/profile-reducer.js"],"names":["data","dialogsData","i","length","id","name","messages","messagesData","message","initialState","addMessageActionCreator","type","newMessageText","messagesReducer","state","action","module","exports","instance","axios","withCredentials","baseURL","headers","userAPI","getUser","currentPage","pageSize","get","then","response","follow","userId","post","unfollow","delete","checkLogin","login","email","password","rememberMe","logout","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","Header","props","className","styles","header","src","width","alt","loginBlock","isAuth","onClick","to","initialized","isFetching","setAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","Sidebar","sidebar","sidebar__header","sidebar__item","sidebar__name","sidebar__avatar","Navbar","classes","nav","item","activeClassName","activeLink","Music","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","users","totalUsersCount","followingInProgress","followSucsess","unfollowSucsess","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Paginator","totalItemsCount","portionSize","onPageChanged","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","e","p","selectedPage","key","User","user","userPhoto","photos","small","disabled","some","button","Users","getUsersSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","getUsers","Preloader","bind","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","formSummeryError","stopSubmit","_error","log","formData","appReducer","withSuspense","Suspense","fallback","sidebarReducer","reducers","combineReducers","profile","profileReducer","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","TestApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormsControl","input","meta","touched","hasError","formControl","children","Textarea","restProps","placeholder","component","validators","text","validate","preloader","value","maxLengthCreator","maxLength","ADD_POST","postsData","likesCount","newPostText","addPostActionCreator","newText","setUserProfile","setStatus","postId"],"mappings":"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","file":"static/js/main.e5f9cb67.chunk.js","sourcesContent":["const ADD_MESSAGE = 'messages/ADD-MESSAGE';\r\n\r\nconst data = ['Andrey', 'Galina', 'Anna', 'Maxim', 'Tanya'];\r\n\tconst dialogsData = [];\r\n\tfor (let i = 0; i < data.length; i++) {\r\n\t\tdialogsData[i] = {};\r\n\t\tdialogsData[i].id = i + 1;\r\n\t\tdialogsData[i].name = data[i];\r\n\t}\r\nconst messages = ['Hi', 'How are you?', 'Yo'];\r\n\tconst messagesData = [];\r\n\tfor (let i = 0; i < messages.length; i++) {\r\n\t\tmessagesData[i] = {};\r\n\t\tmessagesData[i].id = i + 1;\r\n\t\tmessagesData[i].message = messages[i];\r\n\t}\r\n\r\nconst initialState = {\r\n\tdialogsData: dialogsData,\r\n\tmessagesData: messagesData\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessagesData: [...state.messagesData, {\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\tmessage: action.newMessageText\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addMessageActionCreator = (message) => ({\r\n\ttype: ADD_MESSAGE,\r\n\tnewMessageText: message\r\n});\r\n\r\nexport default messagesReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1L6Hd\",\"pagination\":\"Users_pagination__18Zer\",\"selectedPage\":\"Users_selectedPage__bAMgl\"};","module.exports = __webpack_public_path__ + \"static/media/i.ccf8b841.webp\";","module.exports = __webpack_public_path__ + \"static/media/Spin-1s-200px.c02e8f9b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2aSUa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummeryError\":\"Login_formSummeryError__3AXfC\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create ({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"835d872a-f736-4d6d-9d7e-efec24ff176d\",\r\n\t\t\"Access-Control-Allow-Origin\": \"https://parunkov.github.io\"\r\n\t}\r\n});\r\n\r\nexport const userAPI = {\r\n\tgetUser(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tcheckLogin() {\r\n\t\treturn instance.get(`auth/me`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`/auth/login`, {email, password, rememberMe}).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`/auth/login`).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => {\r\n\t\t\tconsole.warn('Obsolete method. Please use profileAPI object.');\r\n\t\t\treturn profileAPI.getProfile(userId);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`).then(response => {\r\n\t\t\treturn response;\r\n\t\t});\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status: status}).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3oStH\",\"item\":\"Navbar_item__-aiUW\",\"activeLink\":\"Navbar_activeLink__1Fmr8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3mCHw\",\"sidebar__header\":\"Sidebar_sidebar__header__1IY1g\",\"sidebar__item\":\"Sidebar_sidebar__item__2IYEV\",\"sidebar__name\":\"Sidebar_sidebar__name__1vGul\",\"sidebar__avatar\":\"Sidebar_sidebar__avatar__S3lo-\"};","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={styles.header}>\r\n\t\t\t<img src=\"https://im0-tub-ru.yandex.net/i?id=ae1fc58b4fa314a7812c1365e0434c84&n=13\" width=\"60\" alt=\"\"/>\r\n\t\t\t<div className={styles.loginBlock}>\r\n\t\t\t\t{props.isAuth \r\n\t\t\t\t\t? <div>{props.login + ' '}\r\n\t\t\t\t\t <button onClick={props.logout}>Logout</button></div>\r\n\t\t\t\t\t: <NavLink to=\"/login\">Login</NavLink> }\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import {userAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_INITIALIZED ='auth/SET_INITIALIZED';\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }   \r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSucsess = () => ({type: SET_INITIALIZED});\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, data: {id, email, login, isAuth}});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const dispatchResult = dispatch(checkLogin());\r\n  dispatchResult.then(() => {\r\n    dispatch(initializedSucsess());\r\n  });\r\n}\r\n\r\nexport const checkLogin = () => async (dispatch) => {\r\n  const data = await userAPI.checkLogin();\r\n  if (data.resultCode === 0) {\r\n    const {id, login, email} = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const data = await userAPI.login(email, password, rememberMe);\r\n  if (data.resultCode === 0) {\r\n    dispatch(checkLogin());\r\n  } else {\r\n    const message = data.messages.length > 0 ? data.messages[0] : \"Email or password is wrong\";\r\n    dispatch(stopSubmit(\"login\", {_error: message}));\r\n  }\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n  const data = await userAPI.logout();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Header from './Header';\r\nimport {logout, checkLogin, setAuthUserData} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.checkLogin();\r\n\t}\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth, \r\n\tlogin: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, checkLogin, logout})(HeaderContainer);","import React from 'react';\r\nimport styles from './Sidebar.module.css';\r\n\r\nconst Sidebar = () => {\r\n\treturn (\r\n\t\t<div className={styles.sidebar}>\r\n\t\t\t<div className={styles.sidebar__header}>Frends</div>\r\n\t\t\t<div className={styles.sidebar__item}>\r\n\t\t\t\t<div className={styles.sidebar__name}>Andrey</div>\r\n\t\t\t\t<img src=\"https://www.1zoom.ru/big2/30/147941-aleni.jpg\" alt=\"\" className={styles.sidebar__avatar}/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.sidebar__item}>\r\n\t\t\t\t<div className={styles.sidebar__name}>Galina</div>\r\n\t\t\t\t<img src=\"https://www.1zoom.ru/big2/30/147941-aleni.jpg\" alt=\"\" className={styles.sidebar__avatar}/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.sidebar__item}>\r\n\t\t\t\t<div className={styles.sidebar__name}>Anna</div>\r\n\t\t\t\t<img src=\"https://www.1zoom.ru/big2/30/147941-aleni.jpg\" alt=\"\" className={styles.sidebar__avatar}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Sidebar from './../Sidebar/Sidebar';\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<nav className={classes.nav}>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/profile\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tProfile\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tMessages\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/news\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tNews\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/music\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tMusic\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/settings\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tSettings\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/users\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tUsers\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t\t<Sidebar />\r\n\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Navbar;\r\n\r\n","import React from 'react';\r\n\r\nconst Music = () => {\r\n\treturn (\r\n\t\t<div className=\"\">Music</div>\r\n\t);\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst News = () => {\r\n\treturn (\r\n\t\t<div className=\"\">News</div>\r\n\t);\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n\treturn (\r\n\t\t<div className=\"\">Settings</div>\r\n\t);\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n\treturn items.map(u => {\n\t\tif (u[objPropName] === itemId) {\n\t\t\treturn {...u, ...newObjProps}\n\t\t}\n\t\treturn u;\n\t});\n}","import {userAPI} from '../api/api';\r\nimport {updateObjectInArray} from '../utils/object-helpers';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING ='users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PGOGRESS ='users/TOGGLE_IS_FOLLOWING_PGOGRESS';\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase UNFOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.count\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PGOGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.followingInProgress\r\n\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSucsess = (userId) => ({\r\n\ttype: FOLLOW,\r\n\tuserId\r\n});\r\n\r\nexport const unfollowSucsess = (userId) => ({\r\n\ttype: UNFOLLOW,\r\n\tuserId\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n\ttype: SET_USERS,\r\n\tusers\r\n});\r\nexport const setCurrentPage = (currentPage) => ({\r\n\ttype: SET_CURRENT_PAGE,\r\n\tcurrentPage\r\n});\r\nexport const setTotalUsersCount = (count) => ({\r\n\ttype: SET_TOTAL_USERS_COUNT,\r\n\tcount\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n\ttype:TOGGLE_IS_FETCHING,\r\n\tisFetching\r\n});\r\nexport const toggleFollowingInProgress = (followingInProgress, userId) => ({\r\n\ttype:TOGGLE_IS_FOLLOWING_PGOGRESS,\r\n\tfollowingInProgress,\r\n\tuserId\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true));\r\n\tconst data = await userAPI.getUser(currentPage, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (userId, dispatch, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingInProgress(true, userId));\r\n\tconst data = await apiMethod(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(userId, dispatch, userAPI.follow.bind(userAPI), unfollowSucsess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(userId, dispatch, userAPI.unfollow.bind(userAPI), followSucsess);\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n","import React, {useState} from 'react';\nimport styles from './Paginator.module.css';\n\nconst Paginator = ({totalItemsCount, pageSize, currentPage, portionSize = 10, onPageChanged}) => {\n\tconst pagesCount = Math.ceil(totalItemsCount / pageSize);\n\tconst pages = [];\n\tfor (let i = 1; i <= pagesCount ; i += 1) {\n\t\tpages.push(i);\n\t}\n\n\tconst portionCount = Math.ceil(pagesCount / portionSize);\n\tconst [portionNumber, setPortionNumber] = useState(1);\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n\tconst rightPortionPageNumber = portionNumber * portionSize;\n\n\treturn(\n\t\t<div className={styles.pagination}>\n\t\t\t{\n\t\t\t\tportionNumber > 1 && \n\t\t\t\t<span>\n\t\t\t\t\t<button className=\"\" onClick={(e) => {\n\t\t\t\t\t\t\tonPageChanged(1);\n\t\t\t\t\t\t\tsetPortionNumber(1);\n\t\t\t\t\t\t}}>1</button>\n\t\t\t\t\t<button onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>\n\t\t\t\t</span>\n\t\t\t}\n\t\t\t{\n\t\t\t\tpages\n\t\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n\t\t\t\t\t.map(p => {\t\t\t\t\t\t\t\n\t\t\t\t\t\treturn <span className={currentPage === p && styles.selectedPage} onClick={(e) => {onPageChanged(p)}} key={p}>{p}</span>\n\t\t\t\t\t})\n\t\t\t}\n\t\t\t{\n\t\t\t\tportionCount > portionNumber && \n\t\t\t\t<span>\n\t\t\t\t\t<button onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>\n\t\t\t\t\t<button className=\"\" onClick={(e) => {\n\t\t\t\t\t\tonPageChanged(pagesCount);\n\t\t\t\t\t\tsetPortionNumber(portionCount);\n\t\t\t\t\t}}>{pagesCount}</button>\n\t\t\t\t</span>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default Paginator;","import React from 'react';\nimport styles from './Users.module.css';\nimport userPhoto from './../../assets/images/i.webp';\nimport {NavLink} from 'react-router-dom';\n\nconst User = ({user, followingInProgress, unfollow, follow}) => {\n\treturn (\n\t\t<div className=\"\">\n\t\t\t<span>\n\t\t\t\t<div>\n\t\t\t\t\t<NavLink to={\"/profile/\" + user.id}>\n\t\t\t\t\t\t<img className={styles.userPhoto} src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"fff\" />\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{user.followed ? \n\t\t\t\t\t\t<button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n\t\t\t\t\t\t\tunfollow(user.id);\n\t\t\t\t\t\t}}>Unfollow</button>\n\t\t\t\t\t\t: <button disabled={followingInProgress.some(id => id === user.id)} button onClick={() => {\n\t\t\t\t\t\t\tfollow(user.id);\n\t\t\t\t\t\t}}>Follow</button>}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t<span>\n\t\t\t\t\t<div className=\"\">{user.name}</div>\n\t\t\t\t\t<div className=\"\">{user.status}</div>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<div className=\"\">{\"user.location.city\"}</div>\n\t\t\t\t\t<div className=\"\">{\"user.location.country\"}</div>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({totalItemsCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Paginator \r\n\t\t\t\t\ttotalItemsCount={totalItemsCount} \r\n\t\t\t\t\tpageSize={pageSize} \r\n\t\t\t\t\tcurrentPage={currentPage} \r\n\t\t\t\t\tonPageChanged={onPageChanged} \r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\tusers.map(u => <User key={u.id} user={u} followingInProgress={props.followingInProgress} unfollow={props.unfollow} follow={props.follow} />)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\n\nconst getUsers = (state) => {\n\treturn state.usersPage.users;\n}\n\nexport const getUsersSelector = createSelector(getUsers, (users) => {\n\treturn users;\n});\n\nexport const getPageSize = (state) => {\n\treturn state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n\treturn state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n\treturn state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n\treturn state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n\treturn state.usersPage.followingInProgress;\n}\n\n","import React from 'react';\r\nimport {\r\n\t\tfollow, \r\n\t\tunfollow, \r\n\t\tsetCurrentPage, \r\n\t\tgetUsers\r\n\t} from './../../redux/users-reucer';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from './../../components/common/Preloader/Preloader';\r\nimport {getUsersSelector, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {currentPage, pageSize} = this.props;\r\n\t\tthis.props.getUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {setCurrentPage, getUsers, pageSize} = this.props;\r\n\t\tsetCurrentPage(pageNumber);\r\n\t\tgetUsers(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn <div>\r\n\t\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t<Users \r\n\t\t\t\ttotalItemsCount={this.props.totalUsersCount} \r\n\t\t\t\tpageSize={this.props.pageSize} \r\n\t\t\t\tcurrentPage={this.props.currentPage} \r\n\t\t\t\tonPageChanged={this.onPageChanged} \r\n\t\t\t\tusers={this.props.users} \r\n\t\t\t\tfollow={this.props.follow} \r\n\t\t\t\tunfollow={this.props.unfollow} \r\n\t\t\t\ttoggleFollowingInProgress={this.props.toggleFollowingInProgress} \r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress} \r\n\t\t\t/>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsersSelector(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, {follow, unfollow, setCurrentPage, getUsers})(UsersContainer);","import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Input, createField} from '../common/FormsControls/FormsControls';\r\nimport {required} from '../../utils/validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login, logout} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport styles from './Login.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t{createField(\"Login\", \"login\", Input, [required])}\r\n\t\t\t{createField(\"Password\", \"password\", Input, [required], {type: \"password\"})}\r\n\t\t\t{createField(null, \"rememberMe\", Input, [], {type: \"checkbox\"}, 'Remember me')}\r\n\t\t\t{error && <div className={styles.formSummeryError}>\r\n\t\t\t\t{error}\r\n\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nconst LoginReduxForm = reduxForm ({\r\n\tform: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\t// console.log(formData);\r\n\t\tprops.login(formData.login, formData.password, formData.rememberMe);\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\tconsole.log(props);\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<LoginReduxForm onSubmit={onSubmit} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);","import {checkLogin} from './auth-reducer';\r\n\r\nconst SET_INITIALIZED ='SET_INITIALIZED';\r\n\r\nconst initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSucsess = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const dispatchResult = dispatch(checkLogin());\r\n  dispatchResult.then(() => {\r\n    dispatch(initializedSucsess());\r\n  });\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\n// import {connect} from 'react-redux';\nimport Preloader from '../components/common/Preloader/Preloader';\n\nexport const withSuspense = (Component) => {\n\treturn (props) => {\n\t\treturn <React.Suspense fallback={<Preloader />}>\n\t\t\t<Component {...props} />\n\t\t</React.Suspense>\n\t}\n}","const initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n}\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport messagesReducer from './messages-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reucer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nconst reducers = combineReducers({\r\n\tprofile: profileReducer,\r\n\tmessages: messagesReducer,\r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n// window.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\n// import ProfileContainer from './components/Profile/ProfileContainer';\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport Music from './components/Music/Music';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport {initializeApp} from './redux/app-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport {compose} from 'redux';\r\nimport {withSuspense} from './hoc/withSuspense';\r\n\r\nimport store from './redux/redux-store';\r\nimport {Provider} from 'react-redux';\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n     this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      // <BrowserRouter>\r\n        <div className=\"app-wrapper\">\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <div className=\"app-wrapper-content\">\r\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n            <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/news\" render={() => <News />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/login\" render={() => <LoginPage />} />\r\n          </div>\r\n        </div>\r\n      // </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n});\r\n\r\n// export default compose(\r\n//   withRouter,\r\n//   connect(mapStateToProps, {initializeApp})\r\n// )(App);\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nconst TestApp = (props) => {\r\n  return(\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default TestApp;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n// import store from './redux/redux-store';\r\n// import {Provider} from 'react-redux';\r\n// import {BrowserRouter} from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// export const rerender = (state) => {\r\n\t// ReactDOM.render(\r\n\t// \t<React.StrictMode>\r\n\t// \t\t<BrowserRouter>\r\n\t// \t\t\t<Provider store={store}>\r\n\t// \t\t\t\t<App />\r\n\t// \t\t\t</Provider>\r\n\t// \t\t</BrowserRouter>\r\n\t// \t</React.StrictMode>,\r\n\t// \tdocument.getElementById('root')\r\n\t// \t);\r\n// }\r\n// rerender(store.getState());\r\n\r\n// store.subscribe(rerender);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\nimport styles from './FormsControls.module.css';\nimport {Field} from 'redux-form';\n\nconst FormsControl = ({input, meta: {touched, error}, ...props}) => {\n\tconst hasError = touched && error;\n\treturn (\n\t\t<div className={styles.formControl + ' ' + (hasError ? styles.error : ' ')}>\n\t\t\t{props.children}\n\t\t\t{hasError && <span>{error}</span>}\n\t\t</div>\n\t)\n}\n\nexport const Textarea = (props) => {\n\tconst {input, meta, ...restProps} = props;\n\treturn <FormsControl {...props}><textarea {...input} {...restProps}  /></FormsControl>\n}\nexport const Input = (props) => {\n\tconst {input, meta, ...restProps} = props;\n\treturn <FormsControl {...props}><input {...input} {...restProps}  /></FormsControl>\n}\n\nexport const createField = (placeholder, name, component, validators, props = {}, text = '') => (\n\t<div>\n\t\t<Field \n\t\t\tplaceholder={placeholder} \n\t\t\tname={name} \n\t\t\tcomponent={component} \n\t\t\tvalidate={validators} \n\t\t\t{...props}\n\t\t/> {text}\n\t</div>\n\t)\n\n","import React from 'react';\r\nimport preloader from '../../../assets/images/Spin-1s-200px.svg';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n\treturn <img src={preloader} className={styles.preloader} alt=\"\" />\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\n\tif (value) return undefined;\n\treturn 'Field is required';\n}\n\nexport const maxLengthCreator = maxLength => value => {\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`\n\treturn undefined;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__mkzKH\",\"loginBlock\":\"Header_loginBlock__3WtFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Paginator_userPhoto__2luSA\",\"pagination\":\"Paginator_pagination__5SeoC\",\"selectedPage\":\"Paginator_selectedPage__1ANab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1XGgI\",\"error\":\"FormsControls_error__e5Oyv\"};","import {profileAPI} from '../api/api';\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_STATUS ='profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\n\r\nconst postsData = [\r\n\t\t{id: 1, text: 'Hi. How are you?', likesCount: 12},\r\n\t\t{id: 2, text: \"It's my first post.\", likesCount: 11}\r\n\t]\r\nconst initialState = {\r\n\tpostsData: postsData,\r\n\tnewPostText: \"\",\r\n\tprofile: null,\r\n\tstatus: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: [...state.postsData, {\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\ttext: action.newText,\r\n\t\t\t\t\tlikesCount: 0\r\n\t\t\t\t}],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: state.postsData.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (text) => ({\r\n\ttype: ADD_POST,\r\n\tnewText: text\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n\ttype: SET_USER_PROFILE,\r\n\tprofile\r\n});\r\nexport const setStatus = (status) => ({\r\n\ttype: SET_STATUS,\r\n\tstatus\r\n});\r\nexport const deletePost = (postId) => ({\r\n\ttype: DELETE_POST,\r\n\tpostId\r\n});\r\n\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfile(userId);\r\n\tdispatch(setUserProfile(data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tconst response = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tconst response = await profileAPI.updateStatus(status);\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(setStatus(status));\r\n\t}\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}