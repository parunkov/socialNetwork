{"version":3,"sources":["components/Dialogs/Dialogs.module.scss","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogsItem","props","path","id","className","styles","dialog","to","name","Message","message","message__avatar","src","messagesPhoto","alt","message__text","Dialogs","getMessagesPhoto","userId","maxLength100","maxLengthCreator","dialogsElements","dialogsData","map","data","key","messagesElements","messagesData","MessageReduxForm","reduxForm","form","onSubmit","handleSubmit","addMessageBlock","Field","component","Textarea","cols","rows","input","placeholder","validate","required","type","dialogs","dialogsItems","messages","formData","addMessage","mapStateToPropsForRedirect","state","isAuth","auth","compose","connect","newMessageText","Component","RedirectComponent","this","React"],"mappings":"qFACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,gBAAkB,iCAAiC,gBAAkB,mC,+FCYjQC,EATK,SAACC,GACpB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACC,yBAAKC,UAAWC,IAAOC,QACtB,kBAAC,IAAD,CAASC,GAAIL,GAAOD,EAAMO,QCIdC,EATC,SAACR,GAChB,OACC,yBAAKG,UAAWC,IAAOK,SACtB,yBAAKN,UAAWC,IAAOM,gBAAiBC,IAAKX,EAAMY,cAAeC,IAAI,KACtE,yBAAKV,UAAWC,IAAOU,eAAgBd,EAAMS,W,iCC0CjCM,EAzCC,SAACf,GAChBA,EAAMgB,iBAAiBhB,EAAMiB,QAC7B,IAAMC,EAAeC,YAAiB,KAChCC,EAAkBpB,EAAMqB,YAAYC,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CAAahB,KAAMgB,EAAKhB,KAAMiB,IAAKD,EAAKrB,GAAIA,GAAIqB,EAAKrB,QACrGuB,EAAmBzB,EAAM0B,aAAaJ,KAAI,SAAAb,GAAO,OAAI,kBAAC,EAAD,CAASA,QAASA,EAAQA,QAASe,IAAKf,EAAQP,GAAIU,cAAeZ,EAAMY,mBAe9He,EAAmBC,YAAW,CACnCC,KAAM,WADkBD,EAbL,SAAC5B,GACpB,OACC,0BAAM8B,SAAU9B,EAAM+B,cACrB,yBAAK5B,UAAWC,IAAO4B,iBACtB,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAU5B,KAAK,UAAU6B,KAAK,MAAMC,KAAK,IAAIlC,UAAWC,IAAOkC,MAAOC,YAAY,oBAAoBC,SAAU,CAACC,IAAUvB,KAC7I,6BACC,4BAAQwB,KAAK,UAAb,qBAeL,OACC,yBAAKvC,UAAWC,IAAOuC,SACtB,yBAAKxC,UAAWC,IAAOwC,cACrBxB,GAEF,yBAAKjB,UAAWC,IAAOyC,UACtB,2CACCpB,EACD,kBAACE,EAAD,CAAkBG,SAZJ,SAACgB,GACjB9C,EAAM+C,WAAWD,EAASrC,e,gDC5BtBuC,EAA6B,SAACC,GAAD,MAAY,CAC7CC,OAAQD,EAAME,KAAKD,S,OCWNE,sBACdC,aAXuB,SAACJ,GACxB,MAAO,CACN5B,YAAa4B,EAAMJ,SAASxB,YAC5BK,aAAcuB,EAAMJ,SAASnB,aAC7B4B,eAAgBL,EAAMJ,SAASS,eAC/B1C,cAAeqC,EAAMJ,SAASjC,cAC9BK,OAAQgC,EAAME,KAAKjD,MAKI,CAAC6C,eAAY/B,wBDTN,SAACuC,GAAe,IACzCC,EADwC,uKAG5C,OAAKC,KAAKzD,MAAMkD,OAGT,kBAACK,EAAcE,KAAKzD,OAFnB,kBAAC,IAAD,CAAUM,GAAG,eAJuB,GACdoD,IAAMH,WAWtC,OAFmCF,YAAQL,EAARK,CAAoCG,KCFzDJ,CAGbrC","file":"static/js/4.bbcb830d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__34jnh\",\"dialogsItems\":\"Dialogs_dialogsItems__1dLLE\",\"active\":\"Dialogs_active__1atyc\",\"messages\":\"Dialogs_messages__2cw65\",\"message\":\"Dialogs_message__2Fex_\",\"message__avatar\":\"Dialogs_message__avatar__3svfB\",\"addMessageBlock\":\"Dialogs_addMessageBlock__1fSy9\"};","import React from 'react';\r\nimport styles from './../Dialogs.module.scss';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst DialogsItem = (props) => {\r\n\tlet path = '/dialogs/' + props.id;\r\n\treturn (\r\n\t\t<div className={styles.dialog}>\r\n\t\t\t<NavLink to={path}>{props.name}</NavLink>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DialogsItem;","import React from 'react';\r\nimport styles from './../Dialogs.module.scss';\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n\t\t<div className={styles.message}>\r\n\t\t\t<img className={styles.message__avatar} src={props.messagesPhoto} alt=\"\"/>\r\n\t\t\t<div className={styles.message__text}>{props.message}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport styles from './Dialogs.module.scss';\r\nimport DialogsItem from './DialogsItem/DialogsItem';\r\nimport Message from './Message/Message';\r\nimport {reduxForm, Field} from 'redux-form';\r\nimport {required, maxLengthCreator} from '../../utils/validators/validators';\r\nimport {Textarea} from '../common/FormsControls/FormsControls';\r\n\r\nconst Dialogs = (props) => {\r\n\tprops.getMessagesPhoto(props.userId);\r\n\tconst maxLength100 = maxLengthCreator(100);\r\n\tconst dialogsElements = props.dialogsData.map(data => <DialogsItem name={data.name} key={data.id} id={data.id} />);\r\n\tconst messagesElements = props.messagesData.map(message => <Message message={message.message} key={message.id} messagesPhoto={props.messagesPhoto} />);\r\n\r\n\tconst MessageForm = (props) => {\r\n\t\treturn(\r\n\t\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t\t<div className={styles.addMessageBlock}>\r\n\t\t\t\t\t<Field component={Textarea} name=\"message\" cols=\"120\" rows=\"5\" className={styles.input} placeholder=\"Enter new message\" validate={[required, maxLength100]} />\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button type=\"submit\">Add message</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\tconst MessageReduxForm = reduxForm ({\r\n\t\tform: 'message'\r\n\t})(MessageForm);\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.addMessage(formData.message);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.dialogs}>\r\n\t\t\t<div className={styles.dialogsItems}>\r\n\t\t\t\t{dialogsElements}\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.messages}>\r\n\t\t\t\t<h2>My messages</h2>\r\n\t\t\t\t{messagesElements}\r\n\t\t\t\t<MessageReduxForm onSubmit={onSubmit} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n\t\tisAuth: state.auth.isAuth\r\n\t});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) {\r\n\t\t\t\treturn <Redirect to=\"/login\" />\r\n\t\t\t}\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tconst ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\treturn ConnectedRedirectComponent;\r\n}","import {addMessage, getMessagesPhoto} from './../../redux/messages-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsData: state.messages.dialogsData,\r\n\t\tmessagesData: state.messages.messagesData,\r\n\t\tnewMessageText: state.messages.newMessageText,\r\n\t\tmessagesPhoto: state.messages.messagesPhoto,\r\n\t\tuserId: state.auth.id\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps,{addMessage, getMessagesPhoto}),\r\n\twithAuthRedirect\r\n)(Dialogs);\r\n\r\n"],"sourceRoot":""}