{"version":3,"sources":["assets/images/i.webp","api/api.js","redux/messages-reducer.js","components/Users/Users.module.css","assets/images/Spin-1s-200px.svg","components/common/Preloader/Preloader.module.css","components/Login/Login.module.css","components/Navbar/Navbar.module.css","components/Sidebar/Sidebar.module.css","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Sidebar/Sidebar.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reucer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","serviceWorker.js","index.js","components/common/FormsControls/FormsControls.js","components/common/Preloader/Preloader.jsx","utils/validators/validators.js","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormsControls.module.css","redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","userAPI","getUser","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","checkLogin","login","email","password","rememberMe","logout","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","dialogsData","i","length","id","name","messages","messagesData","message","initialState","addMessageActionCreator","type","newMessageText","messagesReducer","state","action","Header","props","className","styles","header","src","width","alt","loginBlock","isAuth","onClick","to","initialized","isFetching","setAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","Sidebar","sidebar","sidebar__header","sidebar__item","sidebar__name","sidebar__avatar","Navbar","classes","nav","item","activeClassName","activeLink","Music","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","users","totalUsersCount","followingInProgress","followSucsess","unfollowSucsess","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Paginator","totalItemsCount","portionSize","onPageChanged","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","e","p","selectedPage","key","User","user","userPhoto","photos","small","disabled","some","button","Users","getUsersSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","getUsers","Preloader","bind","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","formSummeryError","stopSubmit","_error","log","appReducer","withSuspense","Suspense","fallback","sidebarReducer","reducers","combineReducers","profileReducer","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","TestApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","FormsControl","input","meta","touched","hasError","formControl","children","Textarea","restProps","placeholder","component","validators","text","validate","preloader","value","maxLengthCreator","maxLength","ADD_POST","postsData","likesCount","newPostText","addPostActionCreator","newText","setUserProfile","setStatus","savePhotoSucsess","file","getState","postId"],"mappings":"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","file":"static/js/main.c0b67cfe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/i.ccf8b841.webp\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create ({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"835d872a-f736-4d6d-9d7e-efec24ff176d\",\r\n\t\t// 'Accept': 'application/json',\r\n\t //    'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t// \"Access-Control-Allow-Origin\": \"*\",\r\n\t //    \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\r\n\t //    \"Access-Control-Allow-Headers\": \"Origin, Content-Type\"\r\n\t}\r\n});\r\n\r\nexport const userAPI = {\r\n\tgetUser(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tcheckLogin() {\r\n\t\treturn instance.get(`auth/me`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`/auth/login`, {email, password, rememberMe}).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`/auth/login`).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => {\r\n\t\t\tconsole.warn('Obsolete method. Please use profileAPI object.');\r\n\t\t\treturn profileAPI.getProfile(userId);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => {\r\n\t\t\treturn response.data\r\n\t\t});\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`).then(response => {\r\n\t\t\treturn response;\r\n\t\t});\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status: status}).then(response => {\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"image\", photoFile);\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t}).then(response => {\r\n\t\t\treturn response;\r\n\t\t});\r\n\t},\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile);\r\n\t}\r\n\r\n}\r\n","const ADD_MESSAGE = 'messages/ADD-MESSAGE';\r\n\r\nconst data = ['Andrey', 'Galina', 'Anna', 'Maxim', 'Tanya'];\r\n\tconst dialogsData = [];\r\n\tfor (let i = 0; i < data.length; i++) {\r\n\t\tdialogsData[i] = {};\r\n\t\tdialogsData[i].id = i + 1;\r\n\t\tdialogsData[i].name = data[i];\r\n\t}\r\nconst messages = ['Hi', 'How are you?', 'Yo'];\r\n\tconst messagesData = [];\r\n\tfor (let i = 0; i < messages.length; i++) {\r\n\t\tmessagesData[i] = {};\r\n\t\tmessagesData[i].id = i + 1;\r\n\t\tmessagesData[i].message = messages[i];\r\n\t}\r\n\r\nconst initialState = {\r\n\tdialogsData: dialogsData,\r\n\tmessagesData: messagesData\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessagesData: [...state.messagesData, {\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\tmessage: action.newMessageText\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addMessageActionCreator = (message) => ({\r\n\ttype: ADD_MESSAGE,\r\n\tnewMessageText: message\r\n});\r\n\r\nexport default messagesReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1L6Hd\",\"pagination\":\"Users_pagination__18Zer\",\"selectedPage\":\"Users_selectedPage__bAMgl\"};","module.exports = __webpack_public_path__ + \"static/media/Spin-1s-200px.c02e8f9b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2aSUa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummeryError\":\"Login_formSummeryError__3AXfC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3oStH\",\"item\":\"Navbar_item__-aiUW\",\"activeLink\":\"Navbar_activeLink__1Fmr8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3mCHw\",\"sidebar__header\":\"Sidebar_sidebar__header__1IY1g\",\"sidebar__item\":\"Sidebar_sidebar__item__2IYEV\",\"sidebar__name\":\"Sidebar_sidebar__name__1vGul\",\"sidebar__avatar\":\"Sidebar_sidebar__avatar__S3lo-\"};","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={styles.header}>\r\n\t\t\t<img src=\"https://im0-tub-ru.yandex.net/i?id=ae1fc58b4fa314a7812c1365e0434c84&n=13\" width=\"60\" alt=\"\"/>\r\n\t\t\t<div className={styles.loginBlock}>\r\n\t\t\t\t{props.isAuth \r\n\t\t\t\t\t? <div>{props.login + ' '}\r\n\t\t\t\t\t <button onClick={props.logout}>Logout</button></div>\r\n\t\t\t\t\t: <NavLink to=\"/login\">Login</NavLink> }\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import {userAPI} from '../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_INITIALIZED ='auth/SET_INITIALIZED';\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  isFetching: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }   \r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSucsess = () => ({type: SET_INITIALIZED});\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, data: {id, email, login, isAuth}});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const dispatchResult = dispatch(checkLogin());\r\n  dispatchResult.then(() => {\r\n    dispatch(initializedSucsess());\r\n  });\r\n}\r\n\r\nexport const checkLogin = () => async (dispatch) => {\r\n  const data = await userAPI.checkLogin();\r\n  if (data.resultCode === 0) {\r\n    const {id, login, email} = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const data = await userAPI.login(email, password, rememberMe);\r\n  if (data.resultCode === 0) {\r\n    dispatch(checkLogin());\r\n  } else {\r\n    const message = data.messages.length > 0 ? data.messages[0] : \"Email or password is wrong\";\r\n    dispatch(stopSubmit(\"login\", {_error: message}));\r\n  }\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n  const data = await userAPI.logout();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Header from './Header';\r\nimport {logout, checkLogin, setAuthUserData} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.checkLogin();\r\n\t}\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth, \r\n\tlogin: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, checkLogin, logout})(HeaderContainer);","import React from 'react';\r\nimport styles from './Sidebar.module.css';\r\n\r\nconst Sidebar = () => {\r\n\treturn (\r\n\t\t<div className={styles.sidebar}>\r\n\t\t\t<div className={styles.sidebar__header}>Frends</div>\r\n\t\t\t<div className={styles.sidebar__item}>\r\n\t\t\t\t<div className={styles.sidebar__name}>Andrey</div>\r\n\t\t\t\t<img src=\"https://www.1zoom.ru/big2/30/147941-aleni.jpg\" alt=\"\" className={styles.sidebar__avatar}/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.sidebar__item}>\r\n\t\t\t\t<div className={styles.sidebar__name}>Galina</div>\r\n\t\t\t\t<img src=\"https://www.1zoom.ru/big2/30/147941-aleni.jpg\" alt=\"\" className={styles.sidebar__avatar}/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.sidebar__item}>\r\n\t\t\t\t<div className={styles.sidebar__name}>Anna</div>\r\n\t\t\t\t<img src=\"https://www.1zoom.ru/big2/30/147941-aleni.jpg\" alt=\"\" className={styles.sidebar__avatar}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Sidebar from './../Sidebar/Sidebar';\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<nav className={classes.nav}>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/profile\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tProfile\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tMessages\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/news\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tNews\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/music\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tMusic\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/settings\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tSettings\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.item}>\r\n\t\t\t\t\t<NavLink to=\"/users\" activeClassName={classes.activeLink}>\r\n\t\t\t\t\t\tUsers\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t\t<Sidebar />\r\n\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Navbar;\r\n\r\n","import React from 'react';\r\n\r\nconst Music = () => {\r\n\treturn (\r\n\t\t<div className=\"\">Music</div>\r\n\t);\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst News = () => {\r\n\treturn (\r\n\t\t<div className=\"\">News</div>\r\n\t);\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n\treturn (\r\n\t\t<div className=\"\">Settings</div>\r\n\t);\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n\treturn items.map(u => {\n\t\tif (u[objPropName] === itemId) {\n\t\t\treturn {...u, ...newObjProps}\n\t\t}\n\t\treturn u;\n\t});\n}","import {userAPI} from '../api/api';\r\nimport {updateObjectInArray} from '../utils/object-helpers';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING ='users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PGOGRESS ='users/TOGGLE_IS_FOLLOWING_PGOGRESS';\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase UNFOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.count\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PGOGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.followingInProgress\r\n\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSucsess = (userId) => ({\r\n\ttype: FOLLOW,\r\n\tuserId\r\n});\r\n\r\nexport const unfollowSucsess = (userId) => ({\r\n\ttype: UNFOLLOW,\r\n\tuserId\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n\ttype: SET_USERS,\r\n\tusers\r\n});\r\nexport const setCurrentPage = (currentPage) => ({\r\n\ttype: SET_CURRENT_PAGE,\r\n\tcurrentPage\r\n});\r\nexport const setTotalUsersCount = (count) => ({\r\n\ttype: SET_TOTAL_USERS_COUNT,\r\n\tcount\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n\ttype:TOGGLE_IS_FETCHING,\r\n\tisFetching\r\n});\r\nexport const toggleFollowingInProgress = (followingInProgress, userId) => ({\r\n\ttype:TOGGLE_IS_FOLLOWING_PGOGRESS,\r\n\tfollowingInProgress,\r\n\tuserId\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true));\r\n\tconst data = await userAPI.getUser(currentPage, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (userId, dispatch, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingInProgress(true, userId));\r\n\tconst data = await apiMethod(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(userId, dispatch, userAPI.follow.bind(userAPI), unfollowSucsess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(userId, dispatch, userAPI.unfollow.bind(userAPI), followSucsess);\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n","import React, {useState} from 'react';\nimport styles from './Paginator.module.css';\n\nconst Paginator = ({totalItemsCount, pageSize, currentPage, portionSize = 10, onPageChanged}) => {\n\tconst pagesCount = Math.ceil(totalItemsCount / pageSize);\n\tconst pages = [];\n\tfor (let i = 1; i <= pagesCount ; i += 1) {\n\t\tpages.push(i);\n\t}\n\n\tconst portionCount = Math.ceil(pagesCount / portionSize);\n\tconst [portionNumber, setPortionNumber] = useState(1);\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n\tconst rightPortionPageNumber = portionNumber * portionSize;\n\n\treturn(\n\t\t<div className={styles.pagination}>\n\t\t\t{\n\t\t\t\tportionNumber > 1 && \n\t\t\t\t<span>\n\t\t\t\t\t<button className=\"\" onClick={(e) => {\n\t\t\t\t\t\t\tonPageChanged(1);\n\t\t\t\t\t\t\tsetPortionNumber(1);\n\t\t\t\t\t\t}}>1</button>\n\t\t\t\t\t<button onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>\n\t\t\t\t</span>\n\t\t\t}\n\t\t\t{\n\t\t\t\tpages\n\t\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n\t\t\t\t\t.map(p => {\t\t\t\t\t\t\t\n\t\t\t\t\t\treturn <span className={currentPage === p && styles.selectedPage} onClick={(e) => {onPageChanged(p)}} key={p}>{p}</span>\n\t\t\t\t\t})\n\t\t\t}\n\t\t\t{\n\t\t\t\tportionCount > portionNumber && \n\t\t\t\t<span>\n\t\t\t\t\t<button onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>\n\t\t\t\t\t<button className=\"\" onClick={(e) => {\n\t\t\t\t\t\tonPageChanged(pagesCount);\n\t\t\t\t\t\tsetPortionNumber(portionCount);\n\t\t\t\t\t}}>{pagesCount}</button>\n\t\t\t\t</span>\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default Paginator;","import React from 'react';\nimport styles from './Users.module.css';\nimport userPhoto from './../../assets/images/i.webp';\nimport {NavLink} from 'react-router-dom';\n\nconst User = ({user, followingInProgress, unfollow, follow}) => {\n\treturn (\n\t\t<div className=\"\">\n\t\t\t<span>\n\t\t\t\t<div>\n\t\t\t\t\t<NavLink to={\"/profile/\" + user.id}>\n\t\t\t\t\t\t<img className={styles.userPhoto} src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"fff\" />\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{user.followed ? \n\t\t\t\t\t\t<button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n\t\t\t\t\t\t\tunfollow(user.id);\n\t\t\t\t\t\t}}>Unfollow</button>\n\t\t\t\t\t\t: <button disabled={followingInProgress.some(id => id === user.id)} button onClick={() => {\n\t\t\t\t\t\t\tfollow(user.id);\n\t\t\t\t\t\t}}>Follow</button>}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t<span>\n\t\t\t\t\t<div className=\"\">{user.name}</div>\n\t\t\t\t\t<div className=\"\">{user.status}</div>\n\t\t\t\t</span>\n\t\t\t\t<span>\n\t\t\t\t\t<div className=\"\">{\"user.location.city\"}</div>\n\t\t\t\t\t<div className=\"\">{\"user.location.country\"}</div>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({totalItemsCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Paginator \r\n\t\t\t\t\ttotalItemsCount={totalItemsCount} \r\n\t\t\t\t\tpageSize={pageSize} \r\n\t\t\t\t\tcurrentPage={currentPage} \r\n\t\t\t\t\tonPageChanged={onPageChanged} \r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\tusers.map(u => <User key={u.id} user={u} followingInProgress={props.followingInProgress} unfollow={props.unfollow} follow={props.follow} />)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\n\nconst getUsers = (state) => {\n\treturn state.usersPage.users;\n}\n\nexport const getUsersSelector = createSelector(getUsers, (users) => {\n\treturn users;\n});\n\nexport const getPageSize = (state) => {\n\treturn state.usersPage.pageSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n\treturn state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPage = (state) => {\n\treturn state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n\treturn state.usersPage.isFetching;\n}\n\nexport const getFollowingInProgress = (state) => {\n\treturn state.usersPage.followingInProgress;\n}\n\n","import React from 'react';\r\nimport {\r\n\t\tfollow, \r\n\t\tunfollow, \r\n\t\tsetCurrentPage, \r\n\t\tgetUsers\r\n\t} from './../../redux/users-reucer';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from './../../components/common/Preloader/Preloader';\r\nimport {getUsersSelector, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {currentPage, pageSize} = this.props;\r\n\t\tthis.props.getUsers(currentPage, pageSize);\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {setCurrentPage, getUsers, pageSize} = this.props;\r\n\t\tsetCurrentPage(pageNumber);\r\n\t\tgetUsers(pageNumber, pageSize);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn <div>\r\n\t\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t<Users \r\n\t\t\t\ttotalItemsCount={this.props.totalUsersCount} \r\n\t\t\t\tpageSize={this.props.pageSize} \r\n\t\t\t\tcurrentPage={this.props.currentPage} \r\n\t\t\t\tonPageChanged={this.onPageChanged} \r\n\t\t\t\tusers={this.props.users} \r\n\t\t\t\tfollow={this.props.follow} \r\n\t\t\t\tunfollow={this.props.unfollow} \r\n\t\t\t\ttoggleFollowingInProgress={this.props.toggleFollowingInProgress} \r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress} \r\n\t\t\t/>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsersSelector(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, {follow, unfollow, setCurrentPage, getUsers})(UsersContainer);","import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport {Input, createField} from '../common/FormsControls/FormsControls';\r\nimport {required} from '../../utils/validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login, logout} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport styles from './Login.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t{createField(\"Login\", \"login\", Input, [required])}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{createField(\"Password\", \"password\", Input, [required], {type: \"password\"})}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{createField(null, \"rememberMe\", Input, [], {type: \"checkbox\"}, 'Remember me')}\r\n\t\t\t</div>\r\n\t\t\t{error && <div className={styles.formSummeryError}>\r\n\t\t\t\t{error}\r\n\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nconst LoginReduxForm = reduxForm ({\r\n\tform: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst onSubmit = (formData) => {\r\n\t\t// console.log(formData);\r\n\t\tprops.login(formData.login, formData.password, formData.rememberMe);\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\tconsole.log(props);\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<LoginReduxForm onSubmit={onSubmit} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n});\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);","import {checkLogin} from './auth-reducer';\r\n\r\nconst SET_INITIALIZED ='SET_INITIALIZED';\r\n\r\nconst initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSucsess = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const dispatchResult = dispatch(checkLogin());\r\n  dispatchResult.then(() => {\r\n    dispatch(initializedSucsess());\r\n  });\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\n// import {connect} from 'react-redux';\nimport Preloader from '../components/common/Preloader/Preloader';\n\nexport const withSuspense = (Component) => {\n\treturn (props) => {\n\t\treturn <React.Suspense fallback={<Preloader />}>\n\t\t\t<Component {...props} />\n\t\t</React.Suspense>\n\t}\n}","const initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n}\r\nexport default sidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport messagesReducer from './messages-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reucer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nconst reducers = combineReducers({\r\n\tprofile: profileReducer,\r\n\tmessages: messagesReducer,\r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n// window.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\n// import ProfileContainer from './components/Profile/ProfileContainer';\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport Music from './components/Music/Music';\r\nimport News from './components/News/News';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport {Route, withRouter} from 'react-router-dom';\r\nimport {initializeApp} from './redux/app-reducer';\r\nimport {connect} from 'react-redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport {compose} from 'redux';\r\nimport {withSuspense} from './hoc/withSuspense';\r\n\r\nimport store from './redux/redux-store';\r\nimport {Provider} from 'react-redux';\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n     this.props.initializeApp();\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      // <BrowserRouter>\r\n        <div className=\"app-wrapper\">\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <div className=\"app-wrapper-content\">\r\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n            <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/news\" render={() => <News />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/login\" render={() => <LoginPage />} />\r\n          </div>\r\n        </div>\r\n      // </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n});\r\n\r\n// export default compose(\r\n//   withRouter,\r\n//   connect(mapStateToProps, {initializeApp})\r\n// )(App);\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n\r\nconst TestApp = (props) => {\r\n  return(\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default TestApp;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n// import store from './redux/redux-store';\r\n// import {Provider} from 'react-redux';\r\n// import {BrowserRouter} from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// export const rerender = (state) => {\r\n\t// ReactDOM.render(\r\n\t// \t<React.StrictMode>\r\n\t// \t\t<BrowserRouter>\r\n\t// \t\t\t<Provider store={store}>\r\n\t// \t\t\t\t<App />\r\n\t// \t\t\t</Provider>\r\n\t// \t\t</BrowserRouter>\r\n\t// \t</React.StrictMode>,\r\n\t// \tdocument.getElementById('root')\r\n\t// \t);\r\n// }\r\n// rerender(store.getState());\r\n\r\n// store.subscribe(rerender);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\nimport styles from './FormsControls.module.css';\nimport {Field} from 'redux-form';\n\nconst FormsControl = ({input, meta: {touched, error}, ...props}) => {\n\tconst hasError = touched && error;\n\treturn (\n\t\t<div className={styles.formControl + ' ' + (hasError ? styles.error : ' ')}>\n\t\t\t{props.children}\n\t\t\t{hasError && <span>{error}</span>}\n\t\t</div>\n\t)\n}\n\nexport const Textarea = (props) => {\n\tconst {input, meta, ...restProps} = props;\n\treturn <FormsControl {...props}><textarea {...input} {...restProps}  /></FormsControl>\n}\nexport const Input = (props) => {\n\tconst {input, meta, ...restProps} = props;\n\treturn <FormsControl {...props}><input {...input} {...restProps}  /></FormsControl>\n}\n\nexport const createField = (placeholder, name, component, validators, props = {}, text = '') => (\n\t<div>\n\t\t<Field \n\t\t\tplaceholder={placeholder} \n\t\t\tname={name} \n\t\t\tcomponent={component} \n\t\t\tvalidate={validators} \n\t\t\t{...props}\n\t\t/> {text}\n\t</div>\n\t)\n\n","import React from 'react';\r\nimport preloader from '../../../assets/images/Spin-1s-200px.svg';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n\treturn <img src={preloader} className={styles.preloader} alt=\"\" />\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\n\tif (value) return undefined;\n\treturn 'Field is required';\n}\n\nexport const maxLengthCreator = maxLength => value => {\n\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`\n\treturn undefined;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__mkzKH\",\"loginBlock\":\"Header_loginBlock__3WtFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Paginator_userPhoto__2luSA\",\"pagination\":\"Paginator_pagination__5SeoC\",\"selectedPage\":\"Paginator_selectedPage__1ANab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1XGgI\",\"error\":\"FormsControls_error__e5Oyv\"};","import {profileAPI} from '../api/api';\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_STATUS ='profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\nconst SAVE_PHOTO_SUCSESS = 'profile/SAVE_PHOTO_SUCSESS';\r\n\r\nconst postsData = [\r\n\t\t{id: 1, text: 'Hi. How are you?', likesCount: 12},\r\n\t\t{id: 2, text: \"It's my first post.\", likesCount: 11}\r\n\t]\r\nconst initialState = {\r\n\tpostsData: postsData,\r\n\tnewPostText: \"\",\r\n\tprofile: null,\r\n\tstatus: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: [...state.postsData, {\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\ttext: action.newText,\r\n\t\t\t\t\tlikesCount: 0\r\n\t\t\t\t}],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: state.postsData.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SAVE_PHOTO_SUCSESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {\r\n\t\t\t\t\t...state.profile,\r\n\t\t\t\t\tphotos: action.photos\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (text) => ({\r\n\ttype: ADD_POST,\r\n\tnewText: text\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n\ttype: SET_USER_PROFILE,\r\n\tprofile\r\n});\r\nexport const setStatus = (status) => ({\r\n\ttype: SET_STATUS,\r\n\tstatus\r\n});\r\nexport const deletePost = (postId) => ({\r\n\ttype: DELETE_POST,\r\n\tpostId\r\n});\r\nexport const savePhotoSucsess = (photos) => ({\r\n\ttype: SAVE_PHOTO_SUCSESS, \r\n\tphotos\r\n});\r\n\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfile(userId);\r\n\tdispatch(setUserProfile(data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tconst response = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\tconst response = await profileAPI.updateStatus(status);\r\n\tif (response.resultCode === 0) {\r\n\t\tdispatch(setStatus(status));\r\n\t}\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tconst response = await profileAPI.savePhoto(file);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(savePhotoSucsess(response.data.data.photos));\r\n\t}\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.id;\r\n\tconsole.log(userId);\r\n\tconst response = await profileAPI.saveProfile(profile);\r\n\t// debugger;\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getProfile(userId));\r\n\t}\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}